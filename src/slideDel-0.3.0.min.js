(function(e){var t=function(e){if(e[0]=="."){return document.querySelectorAll(e)}else{return document.getElementById(e.replace("#",""))}},s=function(e,t){var s="t";if(t[0]==".")s="c";if(t[0]=="#")s="i";var i=e;var n="";function l(){n=i.parentNode;if(n.tagName=="HTML")return n=undefined;i=n;if(s=="c"&&n.classList.contains(t.replace(".",""))){return n}else if(s=="i"&&n.id==t.replace("#","")){return n}else if(s=="t"&&n.tagName==t){return n}else{l()}}l();return n},i=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,false)[t]},n=function(e){return document.createElement(e)},l=function(e,t){return e.appendChild(t)},r="ontouchstart"in window,a=r?"touchstart":"mousedown",o=r?"touchmove":"mousemove",d=r?"touchend":"mouseup",f=n("style"),u=".swidel-wrap{display:inline-block;white-space:nowrap;font-size:0;line-height:0;position:absolute;top:0}.swidel-wrap a{vertical-align:middle;text-align:center;font-size:14px;text-decoration:none;cursor:pointer;-webkit-tap-highlight-color:transparent;display:inline-block}",c=document.getElementsByTagName("head")[0];f.innerHTML=u;l(c,f);e.Swidel=function(e,s){var i=this;i.el=e;i.$e=t(e);if(!i.$e)return;i.init(s)};Swidel.prototype.init=function(e){var t=this;t.os={slideItem:e&&e.slideItem||".swidel-item",slideCell:e&&e.slideCell||"swidel-cell",slideText:e&&e.slideText||"删除",slideWidth:e&&e.slideWidth||null,slideFun:e&&e.slideFun||undefined};t.sx=0;t.sy=0;t.mx=0;t.my=0;t.vy=undefined;t.dx=0;t.fx=0;t.sh=0;t.sw=0;t.it=null;t.sa=[];t.sl=typeof t.os.slideText=="string"?1:t.os.slideText.length;if(t.os.slideWidth&&typeof t.os.slideWidth=="number"){t.sa.push(t.os.slideWidth);t.sw=t.os.slideWidth}else if(t.os.slideWidth){for(var f=0;f<t.os.slideWidth.length;f++){t.sw+=t.os.slideWidth[f]||0;if(t.os.slideWidth[f]){t.sa.push(t.os.slideWidth[f])}}}t.$d=n("div");t.$d.className="swidel-wrap";for(var f=0;f<t.sl;f++){var u=n("a");u.className="swidel-slide"+f;if(t.sl==1){u.innerHTML=t.os.slideText}else{u.innerHTML=t.os.slideText[f]}l(t.$d,u)}var c=function(e,s,i){if(!i)var i=t.it;element=i.style;element.webkitTransitionDuration=element.MozTransitionDuration=element.msTransitionDuration=element.OTransitionDuration=element.transitionDuration=s+"ms";element.webkitTransform=element.MozTransform=element.msTransform=element.OTransform=element.transform="translate("+e+"px,0) translateZ(0)"};var m=function(e){if(t.fx==-t.sw&&e<=t.sw/3*2){t.it.setAttribute("swidel","c");c(0,200)}else if(t.fx==-t.sw&&e>t.sw/3*2){t.it.setAttribute("swidel","o");c(-t.sw,200)}else if(t.fx==0&&e>=t.sw/3){t.it.setAttribute("swidel","o");c(-t.sw,200)}else if(t.fx==0&&e<t.sw/3){t.it.setAttribute("swidel","c");c(0,200)}};var x=function(e){t.$e.removeEventListener(o,w,false);t.$e.removeEventListener(d,x,false);var s=t.it.style.webkitTransform||t.it.style.transform||t.it.style.MozTransform||t.it.style.msTransform||t.it.style.OTransform||"translate(0px,0) translateZ(0)",i=parseInt(s.substring(10,s.indexOf("px")));m(Math.abs(i))};var w=function(e){if(r){if(e.touches.length>1||e.scale&&e.scale!==1)return}var s=r?e.touches[0]:e;t.mx=s.pageX-t.sx;t.my=s.pageY-t.sy;if(typeof t.vy=="undefined"){t.vy=!!(t.vy||Math.abs(t.mx)<Math.abs(t.my))}if(!t.vy){e.preventDefault();if(t.fx==0){if(t.mx<=-t.sw){t.mx=-t.sw}else if(t.mx>0)t.mx=0}else if(t.fx=-t.sw){if(t.mx>t.sw){t.mx=t.sw}else if(t.mx<0)t.mx=0}c(t.fx+t.mx,0)}};var h=function(e){var n=r?e.touches[0]:e,f=null,u=null;if(e.target.classList.contains(t.os.slideItem.replace(".",""))){t.it=e.target}else{t.it=s(e.target,t.os.slideItem)}if(!t.it)return;t.mx=0;t.vy=undefined;t.sx=n.pageX;t.sy=n.pageY;t.sh=t.it.offsetHeight;if(!t.sa.length)t.sw=t.sh*t.sl;t.dx=t.it.style.webkitTransform||t.it.style.transform||t.it.style.MozTransform||t.it.style.msTransform||t.it.style.OTransform||"translate(0px,0) translateZ(0)";t.fx=parseInt(t.dx.substring(10,t.dx.indexOf("px")));if(!t.it.getAttribute("swidel")||t.it.getAttribute("swidel")=="c"){var m=document.querySelector("[swidel=o]");if(m){m.setAttribute("swidel","c");c(0,200,m)}if(!t.it.getAttribute("swidel")){if(i(t.it,"position")=="static")t.it.style.position="relative";var h=t.$d.cloneNode(true);var p=h.childNodes;var v=null;for(var y=0;y<t.sl;y++){v=t.sa[y]||t.sh;p[y].style.cssText="line-height:"+t.sh+"px;height:"+t.sh+"px;width:"+v+"px";(function(){var e=y;p[e].onclick=function(){if(t.sl==1){t.os.slideFun.call(p[e])}else{if(typeof t.os.slideFun[e]=="function"){t.os.slideFun[e].call(p[e])}else{console.error("slideText中第"+(e+1)+"个按钮在slideFun中没有对应的方法哦！")}}}})()}h.addEventListener(a,function(e){e.stopPropagation()},false);h.style.cssText="right:"+-t.sw+"px";l(t.it,h);t.it.setAttribute("swidel","c")}}t.$e.addEventListener(o,w,false);t.$e.addEventListener(d,x,false)};t.$e.addEventListener(a,h,false);t.$e.style.cssText=t.$e.style.cssText+"overflow:hidden";if(i(t.$e,"position")=="static")t.$e.style.cssText=t.$e.style.cssText+"position:relative"}})(window);