(function(e){var t=function(e){if(e[0]=="."){return document.querySelectorAll(e)}else{return document.getElementById(e.replace("#",""))}},s=function(e,t){var s="t";if(t[0]==".")s="c";if(t[0]=="#")s="i";var i=e;var n="";function l(){n=i.parentNode;if(n.tagName=="HTML")return n=undefined;i=n;if(s=="c"&&n.classList.contains(t.replace(".",""))){return n}else if(s=="i"&&n.id==t.replace("#","")){return n}else if(s=="t"&&n.tagName==t){return n}else{l()}}l();return n},i=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,false)[t]},n=function(e){return document.createElement(e)},l=function(e,t){return e.appendChild(t)},r="ontouchstart"in window,a=r?"touchstart":"mousedown",o=r?"touchmove":"mousemove",f=r?"touchend":"mouseup",d=n("style"),u=".swidel-wrap{display:inline-block;white-space:nowrap;font-size:0;line-height:0;position:absolute;top:0}.swidel-wrap a{vertical-align:middle;text-align:center;font-size:14px;text-decoration:none;cursor:pointer;-webkit-tap-highlight-color:transparent;display:inline-block}",m=document.getElementsByTagName("head")[0];d.innerHTML=u;l(m,d);e.Swidel=function(e,s){var i=this;i.el=e;i.$e=t(e);if(!i.$e)return;i.init(s)};Swidel.prototype.init=function(e){var t=this;t.os={slideItem:e&&e.slideItem||".swidel-item",slideCell:e&&e.slideCell||"swidel-cell",slideText:e&&e.slideText||"删除",slideWidth:e&&e.slideWidth||null,slideFun:e&&e.slideFun||undefined};t.sx=0;t.sy=0;t.mx=0;t.my=0;t.vy=undefined;t.dx=0;t.fx=0;t.sh=0;t.sw=0;t.it=null;t.sa=[];t.sl=typeof t.os.slideText=="string"?1:t.os.slideText.length;if(t.os.slideWidth&&typeof t.os.slideWidth=="number"){t.sa.push(t.os.slideWidth);t.sw=t.os.slideWidth}else if(t.os.slideWidth){for(var d=0;d<t.os.slideWidth.length;d++){t.sw+=t.os.slideWidth[d]||0;if(t.os.slideWidth[d]){t.sa.push(t.os.slideWidth[d])}}}t.$d=n("div");t.$d.className="swidel-wrap";for(var d=0;d<t.sl;d++){var u=n("a");u.className="swidel-slide"+d;if(t.sl==1){u.innerHTML=t.os.slideText}else{u.innerHTML=t.os.slideText[d]}l(t.$d,u)}var m=function(e,s,i){if(!i)var i=t.it;element=i.style;element.webkitTransitionDuration=element.MozTransitionDuration=element.msTransitionDuration=element.OTransitionDuration=element.transitionDuration=s+"ms";element.webkitTransform=element.MozTransform=element.msTransform=element.OTransform=element.transform="translate("+e+"px,0) translateZ(0)"};var c=function(e){if(t.fx==-t.sw&&e<=t.sw/3*2){m(0,200)}else if(t.fx==-t.sw&&e>t.sw/3*2){m(-t.sw,200)}else if(t.fx==0&&e>=t.sw/3){m(-t.sw,200)}else if(t.fx==0&&e<t.sw/3){m(0,200)}};var x=function(e){t.$e.removeEventListener(o,h,false);t.$e.removeEventListener(f,x,false);var s=t.it.style.webkitTransform||t.it.style.transform||t.it.style.MozTransform||t.it.style.msTransform||t.it.style.OTransform||"translate(0px,0) translateZ(0)",i=parseInt(s.substring(10,s.indexOf("px")));c(Math.abs(i))};var h=function(e){if(r){if(e.touches.length>1||e.scale&&e.scale!==1)return}var s=r?e.touches[0]:e;t.mx=s.pageX-t.sx;t.my=s.pageY-t.sy;if(typeof t.vy=="undefined"){t.vy=!!(t.vy||Math.abs(t.mx)<Math.abs(t.my))}if(!t.vy){e.preventDefault();if(t.fx==0){if(t.mx<=-t.sw){t.mx=-t.sw}else if(t.mx>0)t.mx=0}else if(t.fx=-t.sw){if(t.mx>t.sw){t.mx=t.sw}else if(t.mx<0)t.mx=0}m(t.fx+t.mx,0)}};var p=function(e){var n=r?e.touches[0]:e,d=null,u=null,c=null,p=[];if(e.target.classList.contains(t.os.slideItem.replace(".",""))){t.it=e.target}else{t.it=s(e.target,t.os.slideItem)}if(!t.it)return;t.mx=0;t.vy=undefined;t.sx=n.pageX;t.sy=n.pageY;t.sh=t.it.offsetHeight;if(!t.sa.length)t.sw=t.sh*t.sl;t.dx=t.it.style.webkitTransform||t.it.style.transform||t.it.style.MozTransform||t.it.style.msTransform||t.it.style.OTransform||"translate(0px,0) translateZ(0)";t.fx=parseInt(t.dx.substring(10,t.dx.indexOf("px")));if(t.fx!=-t.sw){d=document.querySelectorAll("[swidel]");for(var w=0;w<d.length;w++){if(s(d[w],t.el))p.push(d[w])}for(var w=0;w<p.length;w++){u=p[w].style.webkitTransform||p[w].style.transform||p[w].style.MozTransform||p[w].style.msTransform||p[w].style.OTransform||"translate(0px,0) translateZ(0)";c=parseInt(u.substring(10,u.indexOf("px")));if(c==-t.sw)m(0,200,p[w])}if(!t.it.getAttribute("swidel")){if(i(t.it,"position")=="static")t.it.style.position="relative";var y=t.$d.cloneNode(true);var v=y.childNodes;var T=null;for(var w=0;w<t.sl;w++){T=t.sa[w]||t.sh;v[w].style.cssText="line-height:"+t.sh+"px;height:"+t.sh+"px;width:"+T+"px";(function(){var e=w;v[e].onclick=function(){if(t.sl==1){t.os.slideFun.call(v[e])}else{t.os.slideFun[e].call(v[e])}}})()}y.addEventListener(a,function(e){e.stopPropagation()},false);y.style.cssText="right:"+-t.sw+"px";l(t.it,y);t.it.setAttribute("swidel",1)}}t.$e.addEventListener(o,h,false);t.$e.addEventListener(f,x,false)};t.$e.addEventListener(a,p,false);t.$e.style.cssText=t.$e.style.cssText+"overflow:hidden";if(i(t.$e,"position")=="static")t.$e.style.cssText=t.$e.style.cssText+"position:relative"}})(window);